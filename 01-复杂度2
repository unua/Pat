#include<stdio.h>

int data[10000];
int size;

int main(){
	int k;
	while(scanf("%d",&k)!=EOF){
		size=0;
		for(int i=0;i<k;i++){
			scanf("%d",&data[i]);
			size++;
		}
		

		int thissum,maxsum,p,q,r,s,zero=0;
		thissum=maxsum=0;
		p=q=r=0;
		s=-1;
		
		for(int i=0;i<size;i++){
			thissum+=data[i];
			if(data[i]==0)zero=1;
			s+=1;
			if(thissum>maxsum){
				maxsum=thissum;
				q=s;
				p=r;
			}
			else if(thissum<0){		
				thissum=0;
				r=i+1;
				s=i;
			}
		}
				
		if(maxsum==0&&zero)
			printf("0 0 0\n");
		else if(maxsum==0)
			printf("0 %d %d",data[0],data[size-1]);
		else if(maxsum>0){
			printf("%d %d %d\n",maxsum,data[p],data[q]);
		}
	}
}
